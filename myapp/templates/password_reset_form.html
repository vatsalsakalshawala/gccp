{% extends 'base.html' %}
 {% block title %}Password Reset{% endblock %}
{% load widget_tweaks %}
{% block content %}
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
    <h3 class="card-title text-center">Password Reset</h3>
    <p class="text-center">Please enter your new password twice so we can verify you typed it correctly.</p>
    <ul class="text-left">
        <li>Your password can’t be too similar to your other personal information.</li>
        <li>Your password must contain at least 8 characters.</li>
        <li>Your password can’t be a commonly used password.</li>
        <li>Your password can’t be entirely numeric.</li>
    </ul>
    <form method="POST">    
        {% csrf_token %}
        <div class="form-group position-relative">
            {{ form.new_password1|add_class:"form-control "|attr:"placeholder:New password" }}
            <a type="button" class="position-absolute" onclick="togglePassword(1)" id="togglePassword1" style="right: 10px; top: 50%; transform: translateY(-50%);">
                                    Show
                                </a>
        </div>
        <div class="form-group position-relative">
            {{ form.new_password2|add_class:"form-control position-relative"|attr:"placeholder:Confirm new password" }}
            <a type="button" class="position-absolute" onclick="togglePassword(2)" id="togglePassword2" style="right: 10px; top: 50%; transform: translateY(-50%);">
                                    Show
                                </a>
        </div>

        <button class="btn btn-primary btn-block mt-2" type="submit">Submit</button>
    </form>
                        <script>
                            function togglePassword(field_num) {
                              let show_hide_link = document.getElementById(`togglePassword${field_num}`);
                              let password_field = field_num === 1 ? document.getElementById("id_new_password1") : document.getElementById("id_new_password2") ;

                              if (password_field.type === "password") {
                                password_field.type = "text"
                                show_hide_link.textContent = "Hide"
                              } else {
                                password_field.type = "password"
                                show_hide_link.textContent = "Show"
                              }
                            }
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}